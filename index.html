<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Meteoros Explosivos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        margin: 0;
        background: radial-gradient(#000015, #000000);
        overflow: hidden;
        touch-action: none;
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
    }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.onresize = resize;

let meteors = [];
let explosions = [];

function spawnMeteor() {
    meteors.push({
        x: Math.random() * canvas.width,
        y: -50,
        size: 30 + Math.random() * 40,
        speed: 2 + Math.random() * 3,
        angle: Math.random() * 0.3 - 0.15
    });
}

setInterval(spawnMeteor, 600);

function explode(x, y) {
    for (let i = 0; i < 20; i++) {
        explosions.push({
            x: x,
            y: y,
            dx: (Math.random() - 0.5) * 6,
            dy: (Math.random() - 0.5) * 6,
            size: 2 + Math.random() * 4,
            alpha: 1
        });
    }

    if (navigator.vibrate) {
        navigator.vibrate(100);
    }
}

canvas.addEventListener("touchstart", touchHandler);
canvas.addEventListener("mousedown", clickHandler);

function touchHandler(e) {
    const touch = e.touches[0];
    checkHit(touch.clientX, touch.clientY);
}

function clickHandler(e) {
    checkHit(e.clientX, e.clientY);
}

function checkHit(x, y) {
    for (let i = meteors.length - 1; i >= 0; i--) {
        const m = meteors[i];
        const dx = x - m.x;
        const dy = y - m.y;
        const dist = Math.sqrt(dx*dx + dy*dy);

        if (dist < m.size) {
            explode(m.x, m.y);
            meteors.splice(i, 1);
            break;
        }
    }
}

function drawMeteor(m) {
    ctx.save();
    ctx.translate(m.x, m.y);
    ctx.rotate(m.angle);

    const grad = ctx.createRadialGradient(0, 0, 5, 0, 0, m.size);
    grad.addColorStop(0, "#ffaa88");
    grad.addColorStop(1, "#662200");

    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(0, 0, m.size, 0, Math.PI * 2);
    ctx.fill();

    ctx.restore();
}

function drawExplosion(e) {
    ctx.globalAlpha = e.alpha;
    ctx.fillStyle = "orange";
    ctx.beginPath();
    ctx.arc(e.x, e.y, e.size, 0, Math.PI * 2);
    ctx.fill();
    ctx.globalAlpha = 1;
}

function loop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let m of meteors) {
        m.y += m.speed;
        m.x += m.angle * 5;
        drawMeteor(m);
    }

    meteors = meteors.filter(m => m.y < canvas.height + 50);

    for (let e of explosions) {
        e.x += e.dx;
        e.y += e.dy;
        e.alpha -= 0.03;
        drawExplosion(e);
    }

    explosions = explosions.filter(e => e.alpha > 0);

    requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>