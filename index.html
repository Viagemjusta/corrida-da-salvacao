<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Calculadora da Matemática de Jesus</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #f0e6d2, #c9b99a);
    color: #3e2f1c;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 10px;
  }
  .calculator {
    background: #fff9f0dd;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    border-radius: 16px;
    width: 320px;
    max-width: 100%;
    padding: 20px;
  }
  .display {
    background: #f3e5bc;
    border-radius: 12px;
    font-size: 2.2em;
    text-align: right;
    padding: 10px 15px;
    box-shadow: inset 0 4px 6px #b49f67;
    margin-bottom: 10px;
    min-height: 48px;
    user-select: none;
  }
  .result {
    background: #fffbf3;
    border-radius: 12px;
    font-size: 1.2em;
    padding: 10px 15px;
    margin-bottom: 20px;
    min-height: 60px;
    box-shadow: inset 0 4px 6px #b49f67;
  }
  .buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
  }
  button {
    font-size: 1.3em;
    padding: 15px 0;
    border-radius: 12px;
    border: none;
    background: #c9b99a;
    color: #3e2f1c;
    font-weight: 600;
    box-shadow: 0 3px 6px rgba(0,0,0,0.12);
    transition: background 0.3s ease;
    user-select: none;
  }
  button:hover {
    background: #a89366;
    cursor: pointer;
  }
  button:active {
    background: #8a774e;
  }
  .btn-inspiration {
    grid-column: span 4;
    background: #7c6e4f;
    color: #fff;
    font-weight: 700;
    font-size: 1.1em;
  }
  .btn-inspiration:hover {
    background: #6b5f43;
  }
</style>
</head>
<body>
  <div class="calculator" role="main" aria-label="Calculadora da Matemática de Jesus">
    <div class="display" id="display" aria-live="polite" aria-atomic="true">0</div>
    <div class="result" id="result" aria-live="polite" aria-atomic="true"></div>
    <div class="buttons">
      <button data-value="7">7</button>
      <button data-value="8">8</button>
      <button data-value="9">9</button>
      <button data-value="/" aria-label="Dividir">÷</button>
      
      <button data-value="4">4</button>
      <button data-value="5">5</button>
      <button data-value="6">6</button>
      <button data-value="*" aria-label="Multiplicar">×</button>
      
      <button data-value="1">1</button>
      <button data-value="2">2</button>
      <button data-value="3">3</button>
      <button data-value="-" aria-label="Subtrair">−</button>
      
      <button data-value="0">0</button>
      <button data-value=".">.</button>
      <button id="clear" aria-label="Limpar">C</button>
      <button data-value="+" aria-label="Somar">+</button>
      
      <button id="equals" class="btn-inspiration" aria-label="Calcular e mostrar versículo">= Calcular & Inspirar</button>
      <button id="inspiration" class="btn-inspiration" aria-label="Mostrar versículo aleatório">Inspiração</button>
    </div>
  </div>

<script>
  const display = document.getElementById('display');
  const resultBox = document.getElementById('result');
  const buttons = document.querySelectorAll('button[data-value]');
  const clearBtn = document.getElementById('clear');
  const equalsBtn = document.getElementById('equals');
  const inspirationBtn = document.getElementById('inspiration');

  // Versículos bíblicos temáticos
  const verses = [
    {text: "Confie no Senhor de todo o seu coração e não se apoie em seu próprio entendimento.", ref: "Provérbios 3:5"},
    {text: "Tudo posso naquele que me fortalece.", ref: "Filipenses 4:13"},
    {text: "O Senhor é o meu pastor; nada me faltará.", ref: "Salmos 23:1"},
    {text: "Amarás o teu próximo como a ti mesmo.", ref: "Mateus 22:39"},
    {text: "Alegrai-vos sempre no Senhor.", ref: "Filipenses 4:4"},
    {text: "Não temas, porque eu sou contigo; não te assombres, porque eu sou o teu Deus.", ref: "Isaías 41:10"},
    {text: "Buscai primeiro o Reino de Deus e a sua justiça, e todas essas coisas vos serão acrescentadas.", ref: "Mateus 6:33"},
    {text: "Aquele que habita no esconderijo do Altíssimo, à sombra do Onipotente descansará.", ref: "Salmos 91:1"},
    {text: "O Senhor é a minha luz e a minha salvação; a quem temerei?", ref: "Salmos 27:1"},
    {text: "Porque Deus não nos deu espírito de temor, mas de poder, amor e moderação.", ref: "2 Timóteo 1:7"}
  ];

  let expression = '';

  // Atualiza display
  function updateDisplay() {
    display.textContent = expression || '0';
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const val = btn.getAttribute('data-value');
      // Evitar múltiplos pontos seguidos e operadores inválidos
      if (val === '.' && expression.endsWith('.')) return;
      if ("+-*/".includes(val) && expression === '') return;
      if ("+-*/".includes(val) && "+-*/".includes(expression.slice(-1))) {
        // substitui operador final
        expression = expression.slice(0,-1) + val;
      } else {
        expression += val;
      }
      updateDisplay();
      resultBox.textContent = '';
    });
  });

  clearBtn.addEventListener('click', () => {
    expression = '';
    updateDisplay();
    resultBox.textContent = '';
  });

  equalsBtn.addEventListener('click', () => {
    if (!expression) return;
    try {
      // Avaliar expressão com segurança básica
      let answer = Function(`'use strict'; return (${expression})`)();
      answer = Math.round((answer + Number.EPSILON) * 10000) / 10000;
      resultBox.textContent = `Resultado: ${answer}\n\n` + getVerseByResult(answer);
    } catch (e) {
      resultBox.textContent = "Expressão inválida, tente novamente.";
    }
  });

  inspirationBtn.addEventListener('click', () => {
    resultBox.textContent = getRandomVerse();
  });

  // Retorna um versículo aleatório
  function getRandomVerse() {
    const v = verses[Math.floor(Math.random() * verses.length)];
    return `${v.text}\n— ${v.ref}`;
  }

  // Relaciona resultado numérico a versículos (exemplo simples)
  function getVerseByResult(num) {
    if (num < 0) return "Mesmo nas dificuldades, Deus está contigo.\n— Isaías 41:10";
    if (num === 0) return "Em Deus encontramos equilíbrio e paz.\n— Salmos 46:10";
    if (num > 0 && num <= 5) return "Pequenos passos levam a grandes conquistas.\n— Filipenses 4:13";
    if (num > 5 && num <= 10) return "Confie no Senhor para multiplicar suas bênçãos.\n— Mateus 6:33";
    if (num > 10) return "Grandes são os planos de Deus para você.\n— Jeremias 29:11";
    return getRandomVerse();
  }

  updateDisplay();
</script>
</body>
</html>